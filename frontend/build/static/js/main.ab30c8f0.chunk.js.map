{"version":3,"sources":["assets/player.jpg","components/Body.js","components/Cases.js","containers/Main.js","components/Loader.js","context/items/ItemsContext.js","components/Paginator.js","components/Card.js","components/Search.js","components/Category.js","components/SliderUI.js","components/Sidebar.js","containers/Layout.js","context/basket/BasketContext.js","components/SelectUI.js","containers/Items.js","context/alert/AlertContext.js","components/Modal.js","components/Comments.js","containers/Item.js","components/BasketItem.js","containers/Basket.js","context/auth/AuthContext.js","containers/Reg.js","containers/Log.js","containers/About.js","components/Orders.js","components/Info.js","components/Change.js","containers/Account.js","containers/Admin.js","containers/Edit.js","containers/Add.js","components/Navigation/Logout.js","Routes.js","components/Navigation/Backdrop.js","components/Navigation/Drower.js","components/Navigation/MenuToggle.js","components/Navigation/Header.js","components/Alert.js","context/alert/AlertReducer.js","context/types.js","context/alert/AlertState.js","context/items/ItemsReducer.js","config.js","context/items/ItemsState.js","context/basket/BasketReducer.js","context/basket/BasketState.js","context/auth/AuthReducer.js","context/auth/AuthState.js","App.js","index.js"],"names":["module","exports","Body","className","to","ArrowRightOutlined","Cases","ArrowLeftOutlined","id","subtitle","title","img","map","caseItem","key","src","Img","alt","Main","Loader","div","initial","opacity","animate","exit","transition","duration","ItemsContext","createContext","Paginator","totalItemsCount","pageSize","portionSize","useContext","currentPage","setCurrentPage","useEffect","setPortionNumber","Math","ceil","pagesCount","pages","i","push","portionCount","useState","portionNumber","leftPortionPageNumber","rightPortionPageNumber","role","onClick","filter","index","pageChanged","Card","item","addItemToBasket","history","useReactRouter","shortDescription","R","description","whileHover","boxShadow","zIndex","name","rating","starRatedColor","starHoverColor","numberOfStars","starDimension","starSpacing","price","type","Search","search","setSearch","onChange","event","target","value","placeholder","aria-describedby","Category","checkedList","setCheckedList","CheckboxGroup","Checkbox","Group","plainOptions","length","indeterminate","setIndeterminate","checkAll","setCheckAll","e","checked","options","SliderUI","min","max","currentMin","currentMax","setSlider","setValue","marks","label","style","width","display","alignItems","flexDirection","fontSize","fontWeight","Slider","valueLabelDisplay","step","newValue","aria-labelledby","Sidebar","Layout","children","BasketContext","SelectUI","ordering","setOrdering","Option","Select","defaultValue","Number","Items","items","loading","fetchItems","store","set","AlertContext","Modal","setModal","setRating","show","setComment","layout","labelCol","span","wrapperCol","document","body","overflowY","CloseOutlined","changeRating","newRating","onFinish","values","console","log","introduction","setTimeout","validateMessages","required","Item","rules","TextArea","offset","htmlType","Comments","modal","size","overflow","comments","comment","first_name","date_commented","fetchItemById","setRated","flag","removeItemToBasket","match","useRouteMatch","amount","setAmount","reviews","setReviews","params","height","get","BasketItem","data","remove","add","props","product","Basket","clearItemToBasket","fetchBasket","basket","count","transitions","useTransition","from","enter","leave","config","h4","v4","danger","AuthContext","validationSchema","Yup","shape","email","firstName","lastName","number","password","matches","confirmPassword","oneOf","errorMessege","touched","messege","Reg","authRegister","formik","useFormik","initialValues","onSubmit","setSubmitting","resetForm","handleSubmit","handleChange","handleBlur","isSubmitting","errors","hasFeedback","help","validateStatus","prefix","MailOutlined","onBlur","autoFocus","UserOutlined","TeamOutlined","PhoneOutlined","Password","LockOutlined","disabled","Log","authLogin","username","About","easing","itemTransition","in","y","ease","out","h1","variants","p","Orders","Info","changeAccount","fetchAccount","initialValue","Change","changePassword","Account","onLogout","path","location","pathname","component","Admin","fetchItemsAdmin","deleteItem","toUpperCase","applySearch","categoryId","Edit","changeItem","Add","addItem","category","Button","Logout","logout","exact","Routes","isAuthenticated","token","routes","Backdrop","Drower","onClose","isOpen","MenuToggle","isToggle","MenuOutlined","Header","menu","setMenu","ShoppingCartOutlined","drag","dragConstraints","left","right","top","bottom","Alert","alert","hide","text","aria-label","aria-hidden","handlers","state","action","payload","AlertReducer","DEFAULT","AlertState","useReducer","dispatch","Provider","error","ItemsReducer","localhost","ItemsState","initialState","undefined","a","setLoading","fl","url","urlLen","axios","response","fetchItemsSuccess","setTotalCount","total","fetchError","fetchItemByIdSuccess","uid","method","qs","stringify","then","setFlag","catch","find","x","BasketReducer","BasketState","fetchBasketSuccess","total_price","total_count","addItemToBasketSuccess","removeItemToBasketSuccess","clearItemToBasketSuccess","last_name","phone_number","AuthReducer","AuthState","post","expirationDate","Date","getTime","authSuccess","autoLogout","time","fetchAccountSuccess","info","autoLogin","App","vh","window","innerHeight","documentElement","setProperty","defaults","xsrfHeaderName","xsrfCookieName","withCredentials","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ab30c8f0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/player.0f624bf1.jpg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ArrowRightOutlined } from '@ant-design/icons';\r\n\r\nexport function Body() {\r\n    return (\r\n       <section className=\"body\">\r\n            <div className=\"cont\">\r\n                <div className=\"ro\">\r\n                    \r\n                    <h2>\r\n                        <div className=\"line\">\r\n                            <span>Вдохновляющий текст</span>\r\n                        </div>\r\n                        <div className=\"line\">\r\n                            <span>Красивая поднадпись</span>\r\n                        </div>\r\n                    </h2>\r\n                    <div className=\"btn-row\">\r\n                        <Link to=\"/items\">\r\n                            Подробнее <ArrowRightOutlined />\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n","import React from 'react'\r\nimport { ArrowRightOutlined } from '@ant-design/icons';\r\nimport { ArrowLeftOutlined } from '@ant-design/icons';\r\nimport Img from '../assets/player.jpg'\r\n\r\nexport function Cases() {\r\n\r\n    const caseText = [\r\n        { id: 1, subtitle: 'Пунктуальность', title: 'Сильно подходящий к смыслу картинки текст', img: 'player' },\r\n        { id: 2, subtitle: 'Забывчивость', title: 'Сильно подходящий к смыслу картинки текст', img: 'player' },\r\n        { id: 3, subtitle: 'Потолок', title: 'Сильно подходящий к смыслу картинки текст', img: 'player' }\r\n    ];\r\n\r\n    return (\r\n        <section className=\"cases\">\r\n            <div className=\"cont-fluid\">\r\n                <div className=\"cases-navigations\">\r\n                    <div className=\"cases-arrow prev disabled\">\r\n                        <ArrowLeftOutlined />\r\n                    </div>\r\n                    <div className=\"cases-arrow next\">\r\n                        <ArrowRightOutlined />\r\n                    </div>\r\n                </div>\r\n                <div className=\"ro\">\r\n                    {caseText.map((caseItem) => (\r\n                        <div className=\"case\" key={caseItem.img + caseItem.id}>\r\n                            <div className=\"case-details\">\r\n                                <span>{caseItem.subtitle}</span>\r\n                                <h2>{caseItem.title}</h2>\r\n                            </div>\r\n                            <div className=\"case-image\">\r\n                                <img src={Img} alt={caseItem.title} />\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nimport { Body } from '../components/Body';\r\nimport { Cases } from '../components/Cases';\r\n\r\nexport const Main = () => {\r\n    return (\r\n        <div className=\"main\" >\r\n            <Body />\r\n            <Cases />\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\n\r\nexport const Loader = () => {\r\n    return (\r\n        <motion.div className=\"loader__center\" initial={{opacity: 0}} animate={{opacity: 1}} exit={{opacity: 0}} transition={{duration: 1}} >\r\n            <div className=\"loader\">\r\n                <div />\r\n                <div />\r\n            </div>\r\n        </motion.div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { createContext } from 'react'\r\n\r\nexport const ItemsContext = createContext()","import React, { useState, useEffect, useContext } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { ItemsContext } from '../context/items/ItemsContext'\r\nimport { Button } from 'antd'\r\n\r\nexport const Paginator = ({ totalItemsCount, pageSize, portionSize }) => {\r\n\r\n    const { currentPage, setCurrentPage } = useContext(ItemsContext)\r\n\r\n    const pageChanged = (index) => {\r\n        setCurrentPage(index)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setPortionNumber(Math.ceil(currentPage / portionSize))\r\n    }, [currentPage, portionSize]) \r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(Math.ceil(currentPage / portionSize))\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className=\"paginator btn-group mb-3\" role=\"group\">\r\n            {portionNumber > 1 &&\r\n                <Button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</Button>}\r\n\r\n            {pages\r\n                .filter(index => index >= leftPortionPageNumber && index <= rightPortionPageNumber)\r\n                .map(index => {\r\n                    return <Button\r\n                        className={currentPage === index ? \"button-active\" : \"\"}\r\n                        key={index}\r\n                        onClick={() => pageChanged(index)}\r\n                    >{index}&nbsp;</Button>\r\n                })}\r\n\r\n            {portionNumber < portionCount &&\r\n                <Button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</Button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nPaginator.propTypes = {\r\n    totalItemsCount: PropTypes.number,\r\n    pageSize: PropTypes.number, \r\n    currentPage: PropTypes.number, \r\n    pageChanged: PropTypes.func, \r\n    portionSize: PropTypes.number\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport * as R from 'ramda'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from 'antd'\r\nimport useReactRouter from 'use-react-router'\r\nimport { motion } from 'framer-motion'\r\nimport StarRatings from 'react-star-ratings'\r\n\r\nexport const Card = ({ item, addItemToBasket }) => {\r\n\r\n    const { history } = useReactRouter()\r\n    const shortDescription = `${R.take(20, item.description)}...`\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            transition={{ duration: 1 }}\r\n            className=\"col-sm-6 col-lg-4 book-list\"\r\n            key={item.id}\r\n        >\r\n            <motion.div\r\n                className=\"card mb-3\"\r\n                whileHover={{ boxShadow: '0px 0px 16px rgba(0, 0, 0, 0.4)', zIndex: 1 }}\r\n                transition={{duration: 0.6}}\r\n            >\r\n                <div className=\"card-img\" >\r\n                    <img\r\n                        src={`https://picsum.photos/id/${item.id}/150/150`}\r\n                        alt={item.name}\r\n                        onClick={() => history.push(`/items/${item.id}`)}\r\n                    />\r\n                </div>\r\n                <hr />\r\n                <div className=\"card-body\">\r\n                    <StarRatings\r\n                        rating={item.rating}\r\n                        starRatedColor=\"gold\"\r\n                        starHoverColor=\"gold\"\r\n                        // changeRating={changeRating}\r\n                        numberOfStars={5}\r\n                        name='rating'\r\n                        starDimension=\"20px\"\r\n                        starSpacing=\"1px\"\r\n                    />\r\n                    <p className=\"rating\">{item.rating}</p>\r\n                    <strong className=\"pull-right\">{item.price}Р</strong>\r\n                    <h5 className=\"card-title\">\r\n                        <Link to={`/items/${item.id}`}>\r\n                            {item.name}\r\n                        </Link>\r\n                    </h5>\r\n                    <p>{shortDescription}</p>\r\n                    <div className=\"card-bottom\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            onClick={() => addItemToBasket(item)}\r\n                        >Купить сейчас</Button>\r\n                        <Button\r\n                            className=\"mt-2\"\r\n                            onClick={() => history.push(`/items/${item.id}`)}\r\n                        >Инфо</Button>\r\n                    </div>\r\n                </div>\r\n            </motion.div>\r\n        </motion.div>\r\n    )\r\n}\r\n\r\nCard.propTypes = {\r\n    addItemToBasket: PropTypes.func,\r\n    item: PropTypes.object\r\n}","import React, { useContext } from 'react'\r\nimport { ItemsContext } from '../context/items/ItemsContext'\r\n\r\nexport const Search = () => {\r\n\r\n    const { search, setSearch, setCurrentPage } = useContext(ItemsContext)\r\n\r\n    return (\r\n        <div className=\"input-group\">\r\n            <input\r\n                onChange={event => {setSearch(event.target.value); setCurrentPage(1);}}\r\n                value={search === null ? '' : search}\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Поиск...\"\r\n                aria-describedby=\"basic-addon2\"\r\n            />\r\n            <div className=\"input-group-append\">\r\n                <span className=\"input-group-text\" id=\"basic-addon2\" onClick={() => setSearch(null)}>Очистить</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useContext } from 'react'\r\nimport { Checkbox } from 'antd';\r\nimport { ItemsContext } from '../context/items/ItemsContext'\r\n\r\nexport const Category = () => {\r\n\r\n    const { checkedList, setCheckedList, setCurrentPage } = useContext(ItemsContext)\r\n\r\n    const CheckboxGroup = Checkbox.Group;\r\n\r\n    const plainOptions = ['Apple', 'Samsung', 'HTC', 'Lenovo', 'Nokia'];\r\n    const [indeterminate, setIndeterminate] = useState(!!checkedList.length && checkedList.length < plainOptions.length)\r\n    const [checkAll, setCheckAll] = useState(checkedList.length === plainOptions.length ? true : false)\r\n\r\n    const onChange = (e) => {\r\n        setCheckedList(e)\r\n        setIndeterminate(!!e.length && e.length < plainOptions.length)\r\n        setCheckAll(e.length === plainOptions.length)\r\n        setCurrentPage(1) \r\n    }\r\n\r\n    const onCheckAllChange = (e) => {\r\n        setCheckedList(e.target.checked ? plainOptions : [])\r\n        setIndeterminate(false)\r\n        setCheckAll(e.target.checked)\r\n        setCurrentPage(1)\r\n    }\r\n\r\n    return (\r\n        <div className=\"category mt-3 mb-3\">\r\n            <hr />\r\n            <h3>Категории</h3>\r\n            <div>\r\n                <div className=\"site-checkbox-all-wrapper\">\r\n                    <Checkbox\r\n                        indeterminate={indeterminate}\r\n                        onChange={onCheckAllChange}\r\n                        checked={checkAll}\r\n                    >\r\n                        Все\r\n                    </Checkbox>\r\n                </div>\r\n                <CheckboxGroup\r\n                    options={plainOptions}\r\n                    value={checkedList}\r\n                    onChange={onChange}\r\n                />\r\n            </div>\r\n            <hr />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { ItemsContext } from '../context/items/ItemsContext'\r\nimport { Button } from 'antd'\r\n\r\nexport const SliderUI = () => {\r\n\r\n  const { min, max, currentMin, currentMax, setSlider, setCurrentPage } = useContext(ItemsContext)\r\n  const [value, setValue] = useState([currentMin, currentMax]);\r\n\r\n  const marks = [\r\n    {\r\n      value: min,\r\n      label: `${min} рублей`,\r\n    },\r\n    {\r\n      value: max,\r\n      label: `${max} рублей`,\r\n    },\r\n  ];\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue)\r\n  };\r\n\r\n  return (\r\n    <div className=\"sliderui mb-4\" style={{ width: '80%', display: 'flex', alignItems: 'center', flexDirection: 'column' }}>\r\n      <p style={{ fontSize: '1.2rem', fontWeight: '700' }} className=\"mb-4\">Цена ОТ и ДО</p>\r\n      <Slider\r\n        valueLabelDisplay=\"auto\"\r\n        min={min}\r\n        step={100}\r\n        max={max}\r\n        value={value}\r\n        onChange={handleChange}\r\n        aria-labelledby=\"range-slider\"\r\n        marks={marks}\r\n      />\r\n      <Button\r\n        onClick={() => {setSlider(value[0], value[1]); setCurrentPage(1)}}\r\n      >Применить цену</Button>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Search } from './Search'\r\nimport { Category } from './Category'\r\nimport { SliderUI } from './SliderUI'\r\n\r\nexport const Sidebar = () => {\r\n    return (\r\n        <div>\r\n            <Search />\r\n            <Category />\r\n            <SliderUI />\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from \"react\";\r\nimport PropTypes from 'prop-types'\r\nimport { Sidebar } from \"../components/Sidebar\";\r\n\r\nexport const Layout = ({ children }) => (\r\n    <div className=\"container pt-4\">\r\n        <div className=\"row\">\r\n            <div className=\"col-md-3\">\r\n                <Sidebar />\r\n            </div>\r\n            <div className=\"col-md-9\">\r\n                {children}\r\n            </div>\r\n        </div>\r\n    </div>\r\n)\r\n\r\nLayout.propTypes = {\r\n    children: PropTypes.array\r\n}\r\n","import {createContext} from 'react'\r\n\r\nexport const BasketContext = createContext()","import React, { useContext } from 'react'\r\nimport { Select } from 'antd';\r\nimport { ItemsContext } from '../context/items/ItemsContext'\r\n\r\nexport const SelectUI = () => {\r\n\r\n    const { ordering, setOrdering, setCurrentPage } = useContext(ItemsContext)\r\n\r\n    const { Option } = Select;\r\n\r\n    function handleChange(value) {\r\n        setOrdering(Number(value))\r\n        setCurrentPage(1)\r\n    }\r\n\r\n    return (\r\n        <div className=\"selectui\">\r\n            <p>Сортировать: </p>\r\n            <Select defaultValue={'' + ordering} style={{ width: 200 }} onChange={handleChange}>\r\n                <Option value=\"0\">По умолчанию</Option>\r\n                <Option value=\"1\">По возрастанию цены</Option>\r\n                <Option value=\"2\">По убыванию цены</Option>\r\n                <Option value=\"3\">По рейтингу</Option>\r\n            </Select>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect } from 'react'\r\nimport store from 'store'\r\nimport { Loader } from '../components/Loader'\r\nimport { Paginator } from '../components/Paginator'\r\nimport { Card } from '../components/Card'\r\nimport { Layout } from './Layout'\r\nimport { ItemsContext } from '../context/items/ItemsContext'\r\nimport { BasketContext } from '../context/basket/BasketContext'\r\nimport { SelectUI } from '../components/SelectUI'\r\n\r\nexport const Items = () => {\r\n\r\n    const { items, totalItemsCount, pageSize, loading, fetchItems, checkedList, currentPage, search, ordering, currentMin, currentMax } = useContext(ItemsContext)\r\n    const { addItemToBasket } = useContext(BasketContext)\r\n\r\n    useEffect(() => {\r\n        fetchItems()\r\n        store.set('checkedList', checkedList)\r\n        store.set('currentPage', currentPage)\r\n        store.set('search', search)\r\n        store.set('ordering', ordering)\r\n        store.set('currentMax', currentMax)\r\n        store.set('currentMin', currentMin)\r\n        // eslint-disable-next-line\r\n    }, [checkedList, currentPage, search, currentMin, currentMax, ordering])\r\n\r\n    const renderCards = () => {\r\n        return items.map((item, index) => {\r\n            return (\r\n                <Card\r\n                    key={item.id}\r\n                    item={item}\r\n                    addItemToBasket={addItemToBasket}\r\n                    id={index}\r\n                />\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <SelectUI />\r\n            <div className=\"card-group row\">\r\n                {\r\n                    loading\r\n                        ? <Loader />\r\n                        : items.length === 0\r\n                            ? <p>Нет товаров по заданному запросу</p>\r\n                            : renderCards()\r\n                }\r\n            </div>\r\n            {\r\n                loading || items.length === 0\r\n                    ? null\r\n                    : <Paginator\r\n                        totalItemsCount={totalItemsCount}\r\n                        pageSize={pageSize}\r\n                        portionSize={4}\r\n                    />\r\n            }\r\n        </Layout>\r\n    )\r\n}","import {createContext} from 'react';\r\n\r\nexport const AlertContext = createContext()","import React, { useState, useContext } from 'react'\r\nimport StarRatings from 'react-star-ratings'\r\nimport { CloseOutlined } from '@ant-design/icons';\r\nimport { Form, Input, Button } from 'antd';\r\nimport { AlertContext } from '../context/alert/AlertContext'\r\nimport { ItemsContext } from '../context/items/ItemsContext'\r\n\r\nexport const Modal = ({setModal, item}) => {\r\n\r\n    const [rating, setRating] = useState(0)\r\n\r\n    const { show } = useContext(AlertContext)\r\n    const { setComment } = useContext(ItemsContext)\r\n\r\n    const layout = {\r\n        labelCol: { span: 4 },\r\n        wrapperCol: { span: 20 },\r\n    };\r\n\r\n    const validateMessages = {\r\n        required: 'Поле не заполнено!'\r\n    };\r\n\r\n    const onFinish = values => {\r\n        console.log(values);\r\n        setComment(item.id, values.name, rating, values.introduction)\r\n        setTimeout(() => {\r\n            document.body.style.overflowY = 'scroll'\r\n            setModal(false)\r\n            show('Ваш комментраий успешно добавлен!', 'success')\r\n        }, 500)\r\n    };\r\n\r\n    const changeRating = (newRating, name) => {\r\n        setRating(newRating)\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed-overlay\">\r\n            <div className=\"comments-modal\">\r\n                <div className=\"comments-closed\" onClick={() => { document.body.style.overflowY = 'scroll'; setModal(false) }}>\r\n                    <CloseOutlined />\r\n                </div>\r\n                <div className=\"comments-container\">\r\n                    <h4>Оставить отзыв</h4>\r\n                    <div className=\"comments-rating\">\r\n                        <StarRatings\r\n                            rating={rating}\r\n                            starRatedColor=\"gold\"\r\n                            starHoverColor=\"gold\"\r\n                            changeRating={changeRating}\r\n                            numberOfStars={5}\r\n                            name='rating'\r\n                            starDimension=\"20px\"\r\n                            starSpacing=\"1px\"\r\n                        />\r\n                    </div>\r\n                    <Form name=\"nest-messages\" {...layout} onFinish={onFinish} validateMessages={validateMessages}>\r\n                        <Form.Item name={'name'} label=\"Имя\" rules={[{ required: true }]} >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item name={'introduction'} label=\"Отзыв\" rules={[{ required: true, max: 400 }]}>\r\n                            <Input.TextArea />\r\n                        </Form.Item>\r\n                        <Form.Item wrapperCol={{ ...layout.wrapperCol, offset: 8 }} >\r\n                            <Button type=\"primary\" htmlType=\"submit\">\r\n                                Отправить\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Fragment, useState } from 'react'\r\nimport StarRatings from 'react-star-ratings'\r\nimport { Modal } from './Modal'\r\nimport { Button } from 'antd';\r\nimport * as R from 'ramda'\r\n\r\nexport const Comments = ({ item }) => {\r\n\r\n    const [modal, setModal] = useState(false)\r\n\r\n    return (\r\n        <>\r\n            {modal && <Modal setModal={setModal} item={item} />}\r\n            <div className=\"comments\">\r\n                <div className=\"comments-header\">\r\n                    {item && <h4>Отзывы о товаре&nbsp;{item.name}</h4>}\r\n                    <Button\r\n                        size=\"large\"\r\n                        type=\"primary\"\r\n                        onClick={() => { document.body.style.overflow = 'hidden'; setModal(true) }}\r\n                    >ОСТАВИТЬ ОТЗЫВ</Button>\r\n                </div>\r\n                <div className=\"comments-new\">\r\n                </div>\r\n                <div className=\"comments-body\">\r\n                    <hr />\r\n                    {item && item.comments\r\n                        .map(comment => (\r\n                            <Fragment key={comment + comment.first_name}>\r\n                                <div className=\"comment\">\r\n                                    <div className=\"comment-info\">\r\n                                        <p>{comment.first_name}</p>\r\n                                        <p>{R.slice(0, 10, comment.date_commented)}&nbsp;{R.slice(11, 16, comment.date_commented)}</p>\r\n                                        <StarRatings\r\n                                            rating={comment.rating}\r\n                                            starRatedColor=\"gold\"\r\n                                            starHoverColor=\"gold\"\r\n                                            numberOfStars={5}\r\n                                            name='rating'\r\n                                            starDimension=\"20px\"\r\n                                            starSpacing=\"1px\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"comment-text\">\r\n                                        <p>{comment.description}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <hr />\r\n                            </Fragment>\r\n                        ))}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useContext, useState } from 'react'\r\nimport { useRouteMatch } from 'react-router-dom'\r\nimport useReactRouter from 'use-react-router'\r\nimport store from 'store'\r\nimport { Button } from 'antd'\r\nimport { Loader } from '../components/Loader'\r\nimport { ItemsContext } from '../context/items/ItemsContext'\r\nimport { BasketContext } from '../context/basket/BasketContext'\r\nimport StarRatings from 'react-star-ratings'\r\nimport { Comments } from '../components/Comments'\r\n\r\nexport const Item = () => {\r\n    \r\n    const { history } = useReactRouter()\r\n    const { fetchItemById, item, loading, setRated, flag } = useContext(ItemsContext)\r\n    const { addItemToBasket, removeItemToBasket } = useContext(BasketContext)\r\n    const match = useRouteMatch('/items/:id')\r\n    \r\n    const [ amount, setAmount ] = useState(0)\r\n    const [ rating, setRating ] = useState(0)\r\n    const [ reviews, setReviews ] = useState(0)\r\n    \r\n    useEffect(() => {\r\n        fetchItemById(match.params.id)\r\n        // eslint-disable-next-line\r\n    }, [match.params.id, flag])\r\n    \r\n    useEffect(() => {\r\n        if (item !== null) {\r\n            setRating(item.rating)\r\n            setReviews(item.reviews)\r\n        }        \r\n    }, [item])\r\n    \r\n    const changeRating = (newRating, name) => {\r\n        setRating(newRating)\r\n        setRated(item.id, store.get('email'), newRating)\r\n        // setReviews(reviews+1)\r\n    }\r\n    \r\n    const renderSidebar = () => {\r\n        return (\r\n            <div className=\"mt-4\">\r\n                <h4 className=\"mt-4 mb-4\">{item.name}</h4>\r\n                <p>Выберите количество:</p>\r\n                <div className=\"item-amount\">\r\n                    <Button onClick={() => amount === 0 ? null : setAmount(amount - 1)}>-</Button>\r\n                    <p>{amount}</p>\r\n                    <Button onClick={() => setAmount(amount + 1)}>+</Button>\r\n                </div>\r\n                <Button className=\"mb-4\" size=\"large\" type=\"primary\" onClick={() => amount === 0 ? null : addItemToBasket(item, amount)}>Добавить в корзину</Button>\r\n                <Button className=\"item-delete mb-4\" size=\"large\" type=\"primary\" onClick={() => removeItemToBasket(item)}>Удалить из корзины</Button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container mt-3\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-9\">\r\n                    <div>\r\n                        <Button className=\"mb-3\" onClick={() => history.push('/items')}>Вернуться назад</Button>\r\n                        {!item || loading\r\n                            ? <Loader />\r\n                            :\r\n                            <div className=\"jumbotron text-center\">\r\n                                <img\r\n                                    src={`https://picsum.photos/id/${item.id}/300/300`}\r\n                                    style={{ height: '250px' }}\r\n                                    className=\"mb-4\"\r\n                                    alt={item.name}>\r\n                                </img>\r\n                                <p className=\"lead\">{item.description}</p>\r\n                                <hr className=\"my-4\"></hr>\r\n                                <StarRatings\r\n                                    rating={rating}\r\n                                    starRatedColor=\"gold\"\r\n                                    starHoverColor=\"gold\"\r\n                                    changeRating={changeRating}\r\n                                    numberOfStars={5}\r\n                                    name='rating'\r\n                                    starDimension=\"20px\"\r\n                                    starSpacing=\"1px\"\r\n                                />\r\n                                <p className=\"rating\">{item.rating}</p>\r\n                                <p className=\"review\">Всего оценок:&nbsp;{reviews}</p>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                    {item && renderSidebar()}\r\n                </div>\r\n            </div>\r\n            <Comments item={item}/>\r\n        </div>\r\n        \r\n    )\r\n}\r\n","import React from 'react'\r\nimport Img from '../assets/player.jpg'\r\nimport { Button } from 'antd'\r\nimport { CloseOutlined } from '@ant-design/icons';\r\nimport useReactRouter from 'use-react-router'\r\nimport { animated } from 'react-spring'\r\n\r\nexport const BasketItem = ({ data, remove, add, props }) => {\r\n\r\n    const { history } = useReactRouter()\r\n\r\n    return (\r\n        <animated.div className=\"basket-item\" style={props}>\r\n            <div className=\"basket-img\">\r\n                <img\r\n                    src={Img}\r\n                    alt={data.name}\r\n                    onClick={() => history.push(`/items/${data.product.id}`)}\r\n                />\r\n            </div>\r\n            <div className=\"basket-info\">\r\n                <div className=\"basket-up\">\r\n                    <div className=\"basket-price\">\r\n                        <p>{data.product.price * data.amount}&nbsp;Р</p>\r\n                    </div>\r\n                    <div className=\"basket-name\">\r\n                        <p onClick={() => history.push(`/items/${data.product.id}`)}>{data.product.name}</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"basket-amount\">\r\n                    <p>Количество:</p>\r\n                    <Button onClick={() => remove(data.product)}>-</Button>\r\n                    <p>{data.amount}</p>\r\n                    <Button onClick={() => add(data.product)}>+</Button>\r\n                </div>\r\n            </div>\r\n            <div className=\"basket-delete\" onClick={() => remove(data.product, data.amount)}>\r\n                <CloseOutlined />\r\n            </div>\r\n        </animated.div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect } from 'react'\r\nimport useReactRouter from 'use-react-router'\r\nimport { Button } from 'antd'\r\nimport { BasketItem } from '../components/BasketItem'\r\nimport { BasketContext } from '../context/basket/BasketContext'\r\nimport store from 'store'\r\nimport { motion } from 'framer-motion'\r\nimport { useTransition } from 'react-spring'\r\nimport { v4 } from 'uuid' \r\n\r\nexport const Basket = () => {\r\n\r\n    const { removeItemToBasket, clearItemToBasket, addItemToBasket, fetchBasket, basket, loading, price, count } = useContext(BasketContext)\r\n    const { history } = useReactRouter()\r\n\r\n    useEffect(() => {\r\n        fetchBasket()\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        store.set('count', count)\r\n        store.set('price', price)\r\n        store.set('basket', basket)\r\n    }, [count, price, basket])\r\n\r\n    const renderSidebar = () => (\r\n        <div className=\"basket-sidebar\">\r\n            <motion.div\r\n                className=\"total-price text-center\"\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                exit={{ opacity: 0 }} transition={{ duration: 1 }}\r\n            >\r\n                <h4>ИТОГО:&nbsp;{price}&nbsp;Р</h4>\r\n            </motion.div>\r\n            <Button className=\"mb-2\" onClick={() => history.push(\"/items\")}>Вернуться в каталог</Button>\r\n            <Button danger className=\"mb-2\" onClick={() => clearItemToBasket()}>Очистить корзину</Button>\r\n            <Button type=\"primary\" className=\"mb-2\">Оформить заказ</Button>\r\n        </div>\r\n    )\r\n\r\n    const transitions = useTransition(basket, item => item.id, {\r\n        from: { opacity: 0 },\r\n        enter: { opacity: 1 },\r\n        leave: { opacity: 0 },\r\n        config: {\r\n            duration: 1000\r\n        }\r\n    })\r\n\r\n    const renderItems = () => (\r\n        <div>\r\n            {transitions.map(({ item, props, key }) => item &&\r\n                <BasketItem key={v4()} data={item} props={props} remove={removeItemToBasket} add={addItemToBasket} />\r\n            )}\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div className=\"basket\">\r\n            <div className=\"container mt-3\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-9 mt\">\r\n                        <div className=\"basket-items\">\r\n                            <div className=\"basket-title\">\r\n                                <motion.h4\r\n                                    initial={{ opacity: 0 }}\r\n                                    animate={{ opacity: 1 }}\r\n                                    exit={{ opacity: 0 }} transition={{ duration: 1 }}\r\n                                >{count}&nbsp;{count === 1 ? 'ТОВАР' : count % 10 >= 5 || count === 0 ? 'ТОВАРОВ' : 'ТОВАРА'}&nbsp;В КОРЗИНЕ</motion.h4>\r\n                                {loading\r\n                                    ? <p>Загрузка...</p>\r\n                                    : basket.length === 0\r\n                                        ? <p>Корзина пуста</p>\r\n                                        : renderItems()}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-md-3 mb-4\">\r\n                        {renderSidebar()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { createContext } from 'react'\r\n\r\nexport const AuthContext = createContext()","import React, { useContext } from 'react'\r\nimport { UserOutlined, LockOutlined, MailOutlined, PhoneOutlined, TeamOutlined } from '@ant-design/icons'\r\nimport { Link } from 'react-router-dom'\r\nimport { useFormik } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport useReactRouter from 'use-react-router'\r\nimport { Form, Input, Button } from 'antd'\r\nimport { AuthContext } from '../context/auth/AuthContext'\r\n\r\nconst validationSchema = Yup.object().shape({\r\n    email: Yup.string()\r\n        .email('Некорректный E-mail')\r\n        .required('Введите E-mail'),\r\n    firstName: Yup.string()\r\n        .min(3, 'Слишком короткое имя')\r\n        .required('Введите имя'),\r\n    lastName: Yup.string()\r\n        .min(3, 'Слишком короткая фамилия')\r\n        .required('Введите фамилию'),\r\n    number: Yup.string()\r\n        .min(11, 'Короткий номер телефона')\r\n        .required('Введите телефон'),\r\n    password: Yup.string()\r\n        .matches(\r\n            '^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})',\r\n            'Слишком легкий пароль'\r\n        )\r\n        .required('Введите пароль'),\r\n    confirmPassword: Yup.string()\r\n        .required('Введите пароль')\r\n        .oneOf([Yup.ref(\"password\"), null], 'Пароли должны совпадать')\r\n})\r\n\r\nconst errorMessege = (touched, messege) => {\r\n    if (!touched) {\r\n        return\r\n    }\r\n    if (messege) {\r\n        return messege\r\n    }\r\n}\r\n\r\nexport const Reg = () => {\r\n\r\n    const { history } = useReactRouter()\r\n    const { authRegister } = useContext(AuthContext)\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: '',\r\n            firstName: '',\r\n            lastName: '',\r\n            number: '',\r\n            password: '',\r\n            confirmPassword: ''\r\n        },\r\n        validationSchema,\r\n        onSubmit: (values, { setSubmitting, resetForm }) => {\r\n            authRegister(values.email, values.firstName, values.lastName, values.number, values.password)\r\n            setSubmitting(true)\r\n            setTimeout(() => {\r\n                resetForm()\r\n                setSubmitting(false)\r\n                history.push('/')\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const { handleSubmit, handleChange, handleBlur, isSubmitting, errors, touched, values } = formik\r\n\r\n    return (\r\n        <div className=\"reg\" >\r\n            <div>\r\n                <div className=\"reg__top\">\r\n                    <h3>Зарегистрироваться</h3>\r\n                    <p>Пожалуйста заполните данные</p>\r\n                </div>\r\n                <Form onFinish={handleSubmit}>\r\n                    <Form.Item\r\n                        name=\"email\"\r\n                        hasFeedback\r\n                        help={errorMessege(touched.email, errors.email)}\r\n                        validateStatus={!touched.email ? null : errors.email ? \"error\" : \"success\"}\r\n                    >\r\n                        <Input\r\n                            id=\"reg__email\"\r\n                            name=\"email\"\r\n                            placeholder=\"E-mail\"\r\n                            prefix={<MailOutlined />}\r\n                            value={values.email}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                            autoFocus={true}\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"firstName\"\r\n                        hasFeedback\r\n                        help={errorMessege(touched.firstName, errors.firstName)}\r\n                        validateStatus={!touched.firstName ? null : errors.firstName ? \"error\" : \"success\"}\r\n                    >\r\n                        <Input\r\n                            id=\"reg__firstName\"\r\n                            name=\"firstName\"\r\n                            placeholder=\"Имя\"\r\n                            prefix={<UserOutlined />}\r\n                            value={values.firstName}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"lastName\"\r\n                        hasFeedback\r\n                        help={errorMessege(touched.lastName, errors.lastName)}\r\n                        validateStatus={!touched.lastName ? null : errors.lastName ? \"error\" : \"success\"}\r\n                    >\r\n                        <Input\r\n                            id=\"reg__lastName\"\r\n                            name=\"lastName\"\r\n                            placeholder=\"Фамилия\"\r\n                            prefix={<TeamOutlined />}\r\n                            value={values.lastName}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"number\"\r\n                        hasFeedback\r\n                        help={errorMessege(touched.number, errors.number)}\r\n                        validateStatus={!touched.number ? null : errors.number ? \"error\" : \"success\"}\r\n                    >\r\n                        <Input\r\n                            id=\"reg__number\"\r\n                            name=\"number\"\r\n                            placeholder=\"Телефон\"\r\n                            prefix={<PhoneOutlined />}\r\n                            value={values.number}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"password\"\r\n                        hasFeedback\r\n                        help={errorMessege(touched.password, errors.password)}\r\n                        validateStatus={!touched.password ? null : errors.password ? \"error\" : \"success\"}\r\n                    >\r\n                        <Input.Password\r\n                            id=\"reg__password\"\r\n                            name=\"password\"\r\n                            placeholder=\"Пароль\"\r\n                            prefix={<LockOutlined />}\r\n                            value={values.password}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"confirmPassword\"\r\n                        hasFeedback\r\n                        help={errorMessege(touched.confirmPassword, errors.confirmPassword)}\r\n                        validateStatus={!touched.confirmPassword ? null : errors.confirmPassword ? \"error\" : \"success\"}\r\n                    >\r\n                        <Input.Password\r\n                            id=\"reg__confirmPassword\"\r\n                            name=\"confirmPassword\"\r\n                            placeholder=\"Повторите пароль\"\r\n                            prefix={<LockOutlined />}\r\n                            value={values.confirmPassword}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" disabled={isSubmitting}>\r\n                            Зарегистрироваться\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n                <Link to='/log'><p>Войти</p></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useContext } from 'react'\r\nimport { MailOutlined, LockOutlined } from '@ant-design/icons'\r\nimport { Link } from 'react-router-dom'\r\nimport { useFormik } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport useReactRouter from 'use-react-router'\r\nimport { Form, Input, Button } from 'antd'\r\nimport { AuthContext } from '../context/auth/AuthContext'\r\n\r\nconst validationSchema = Yup.object().shape({\r\n    email: Yup.string()\r\n        .email('Некорректный E-mail')\r\n        .required('Введите E-mail'),\r\n    password: Yup.string()\r\n        .matches(\r\n            '^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})',\r\n            'Слишком легкий пароль'\r\n        )\r\n        .required('Введите пароль')\r\n})\r\n\r\nconst errorMessege = (touched, messege) => {\r\n    if (!touched) {\r\n        return\r\n    }\r\n    if (messege) {\r\n        return messege\r\n    }\r\n}\r\n\r\nexport const Log = () => {\r\n\r\n    const { history } = useReactRouter()\r\n    const { authLogin } = useContext(AuthContext)\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            username: '',\r\n            password: '',\r\n        },\r\n        validationSchema,\r\n        onSubmit: (values, { setSubmitting, resetForm }) => {\r\n            authLogin(values.email, values.password)\r\n            setSubmitting(true)\r\n            setTimeout(() => {\r\n                resetForm()\r\n                setSubmitting(false)\r\n                history.push('/')\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const { handleSubmit, handleChange, handleBlur, isSubmitting, errors, touched, values } = formik\r\n\r\n    return (\r\n        <div className=\"log\">\r\n            <div>\r\n                <div className=\"log__top\">\r\n                    <h3>Войти в аккаунт</h3>\r\n                    <p>Пожалуйста войдите в свой аккаунт</p>\r\n                </div>\r\n                <Form onFinish={handleSubmit}>\r\n                    <Form.Item\r\n                        name=\"email\"\r\n                        hasFeedback\r\n                        help={errorMessege(touched.email, errors.email)}\r\n                        validateStatus={!touched.email ? null : errors.email ? \"error\" : \"success\"}\r\n                    >\r\n                        <Input\r\n                            id=\"log__email\"\r\n                            name=\"email\"\r\n                            size=\"large\"\r\n                            placeholder=\"E-mail\"\r\n                            prefix={<MailOutlined />}\r\n                            value={values.username}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                            autoFocus={true}\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"password\"\r\n                        hasFeedback\r\n                        help={errorMessege(touched.password, errors.password)}\r\n                        validateStatus={!touched.password ? null : errors.password ? \"error\" : \"success\"}\r\n                    >\r\n                        <Input.Password\r\n                            id=\"log__password\"\r\n                            name=\"password\"\r\n                            size=\"large\"\r\n                            placeholder=\"Пароль\"\r\n                            prefix={<LockOutlined />}\r\n                            value={values.password}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item >\r\n                        <Button type=\"primary\" htmlType=\"submit\" size=\"large\" disabled={isSubmitting}>\r\n                            Войти в аккаунт\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n                <Link to='/reg'><p>Зарегистрироваться</p></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\n\r\nexport const About = () => {\r\n\r\n    const easing = []\r\n\r\n    const itemTransition = {\r\n        in: {\r\n            opacity: 1,\r\n            y: 0,\r\n            transition: { duration: 0.6, ease: easing }\r\n        },\r\n        out: {\r\n            opacity: 0,\r\n            y: 60,\r\n            transition: { duration: 0.6, ease: easing }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"jumbotron\">\r\n            <div className=\"container\">\r\n                <motion.h1 variants={itemTransition} initial=\"out\" animate=\"in\" exit=\"out\" className=\"display-4\">Информация</motion.h1>\r\n                <motion.p variants={itemTransition} initial=\"out\" animate=\"in\" exit=\"out\" className=\"lead\">Версия приложения: <strong>2.0.0</strong></motion.p>\r\n                <motion.p variants={itemTransition} initial=\"out\" animate=\"in\" exit=\"out\" className=\"lead\">Авторы: <strong>0r20 && reqww</strong></motion.p>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport const Orders = () => {\r\n    return (\r\n        <div>\r\n            Orders\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useContext } from 'react'\r\nimport { AuthContext } from '../context/auth/AuthContext'\r\nimport { Form, Input, Button } from 'antd';\r\nimport store from 'store'\r\nimport * as Yup from 'yup'\r\nimport { UserOutlined, MailOutlined, PhoneOutlined, TeamOutlined } from '@ant-design/icons'\r\nimport { useFormik } from 'formik'\r\n\r\nconst validationSchema = Yup.object().shape({\r\n    email: Yup.string()\r\n        .email('Некорректный E-mail')\r\n        .required('Введите E-mail'),\r\n    firstName: Yup.string()\r\n        .min(3, 'Слишком короткое имя')\r\n        .required('Введите имя'),\r\n    lastName: Yup.string()\r\n        .min(3, 'Слишком короткая фамилия')\r\n        .required('Введите фамилию'),\r\n    number: Yup.string()\r\n        .min(11, 'Короткий номер телефона')\r\n        .max(11, 'Слишком длинный номер телефона')\r\n        .required('Введите телефон')\r\n})\r\n\r\nconst errorMessege = (touched, messege) => {\r\n    if (!touched) {\r\n        return\r\n    }\r\n    if (messege) {\r\n        return messege\r\n    }\r\n}\r\n\r\nexport const Info = () => {\r\n\r\n    const { changeAccount, fetchAccount, email, firstName, lastName, number, loading } = useContext(AuthContext)\r\n\r\n    useEffect(() => {\r\n        fetchAccount()\r\n        // eslint-disable-next-line\r\n    }, [email, firstName, lastName, number])\r\n\r\n    const initialValues = {\r\n        email: `${email}`,\r\n        firstName:  `${firstName}`,\r\n        lastName: `${lastName}`,\r\n        number:  `${number}`\r\n    }\r\n\r\n    const formik = useFormik({\r\n        initialValues: initialValues,\r\n        validationSchema,\r\n        onSubmit: (values, { setSubmitting }) => {\r\n            console.log(values)\r\n            changeAccount(values.email, values.firstName, values.lastName, values.number)\r\n            setSubmitting(true)\r\n            setTimeout(() => {\r\n                setSubmitting(false)\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const { handleSubmit, handleChange, handleBlur, isSubmitting, errors, touched, values } = formik\r\n\r\n    return (\r\n        loading || email !== store.get('email')\r\n            ? <p>Загрузка...</p>\r\n            : <div className=\"info mt-4\">\r\n                <Form onFinish={handleSubmit} values={values}>\r\n                    <Form.Item\r\n                        name=\"email\"\r\n                        hasFeedback\r\n                        help={errorMessege(touched.email, errors.email)}\r\n                        validateStatus={errors.email ? \"error\" : \"success\"}\r\n                        initialValue={email}\r\n                    >\r\n                        <Input\r\n                            id=\"reg__email\"\r\n                            name=\"email\"\r\n                            placeholder=\"E-mail\"\r\n                            prefix={<MailOutlined />}\r\n                            value={values.email}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"firstName\"\r\n                        hasFeedback\r\n                        help={errorMessege(touched.firstName, errors.firstName)}\r\n                        validateStatus={errors.firstName ? \"error\" : \"success\"}\r\n                        initialValue={firstName}\r\n                    >\r\n                        <Input\r\n                            id=\"reg__firstName\"\r\n                            name=\"firstName\"\r\n                            placeholder=\"Имя\"\r\n                            prefix={<UserOutlined />}\r\n                            value={values.firstName}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"lastName\"\r\n                        hasFeedback\r\n                        help={errorMessege(touched.lastName, errors.lastName)}\r\n                        validateStatus={errors.lastName ? \"error\" : \"success\"}\r\n                        initialValue={lastName}\r\n                    >\r\n                        <Input\r\n                            id=\"reg__lastName\"\r\n                            name=\"lastName\"\r\n                            placeholder=\"Фамилия\"\r\n                            prefix={<TeamOutlined />}\r\n                            value={values.lastName}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"number\"\r\n                        hasFeedback\r\n                        help={errorMessege(touched.number, errors.number)}\r\n                        validateStatus={errors.number ? \"error\" : \"success\"}\r\n                        initialValue={number}\r\n                    >\r\n                        <Input\r\n                            id=\"reg__number\"\r\n                            name=\"number\"\r\n                            placeholder=\"Телефон\"\r\n                            prefix={<PhoneOutlined />}\r\n                            value={values.number}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" disabled={isSubmitting}>\r\n                            Сменить данные\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Form, Input, Button } from 'antd';\r\nimport * as Yup from 'yup'\r\nimport { LockOutlined } from '@ant-design/icons'\r\nimport { useFormik } from 'formik'\r\nimport { AuthContext } from '../context/auth/AuthContext'\r\n\r\nconst validationSchema = Yup.object().shape({\r\n    password: Yup.string()\r\n        .matches(\r\n            '^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})',\r\n            'Слишком легкий пароль'\r\n        )\r\n        .required('Введите пароль'),\r\n    confirmPassword: Yup.string()\r\n        .required('Введите пароль')\r\n        .oneOf([Yup.ref(\"password\"), null], 'Пароли должны совпадать')\r\n})\r\n\r\nconst errorMessege = (touched, messege) => {\r\n    if (!touched) {\r\n        return\r\n    }\r\n    if (messege) {\r\n        return messege\r\n    }\r\n}\r\n\r\nexport const Change = () => {\r\n\r\n    const { changePassword } = useContext(AuthContext)\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            password: '',\r\n            confirmPassword: ''\r\n        },\r\n        validationSchema,\r\n        onSubmit: (values, { resetForm, setSubmitting }) => {\r\n            console.log(values)\r\n            changePassword(values.password)\r\n            setSubmitting(true)\r\n            setTimeout(() => {\r\n                resetForm()\r\n                setSubmitting(false)\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const { handleSubmit, handleChange, handleBlur, isSubmitting, errors, touched, values } = formik\r\n\r\n    return (\r\n        <div className=\"change mt-4\">\r\n            <Form onFinish={handleSubmit}>\r\n                <Form.Item\r\n                    name=\"password\"\r\n                    hasFeedback\r\n                    help={errorMessege(touched.password, errors.password)}\r\n                    validateStatus={!touched.password ? null : errors.password ? \"error\" : \"success\"}\r\n                >\r\n                    <Input.Password\r\n                        id=\"change__password\"\r\n                        name=\"password\"\r\n                        placeholder=\"Пароль\"\r\n                        prefix={<LockOutlined />}\r\n                        value={values.password}\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"confirmPassword\"\r\n                    hasFeedback\r\n                    help={errorMessege(touched.confirmPassword, errors.confirmPassword)}\r\n                    validateStatus={!touched.confirmPassword ? null : errors.confirmPassword ? \"error\" : \"success\"}\r\n                >\r\n                    <Input.Password\r\n                        id=\"change__confirmPassword\"\r\n                        name=\"confirmPassword\"\r\n                        placeholder=\"Повторите пароль\"\r\n                        prefix={<LockOutlined />}\r\n                        value={values.confirmPassword}\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\" disabled={isSubmitting}>\r\n                        Подтвердить\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Link, Switch, Route } from 'react-router-dom'\r\nimport { Orders } from '../components/Orders'\r\nimport { Info } from '../components/Info'\r\nimport { Change } from '../components/Change'\r\nimport useReactRouter from 'use-react-router'\r\nimport { AuthContext } from '../context/auth/AuthContext'\r\n\r\nexport const Account = () => {\r\n\r\n    const { history } = useReactRouter()\r\n    const { onLogout } = useContext(AuthContext)\r\n    const path = history.location.pathname\r\n\r\n    const renderLinks = () => (\r\n        <div className=\"account-links\">\r\n            <Link to=\"/account/orders\" className={path === \"/account/orders\" ? \"nav-link active\" : \"nav-link\"}>Заказы</Link>\r\n            <Link to=\"/account/info\" className={path === \"/account/info\" ? \"nav-link active\" : \"nav-link\"}>Информация</Link>\r\n            <Link to=\"/account/change\" className={path === \"/account/change\" ? \"nav-link active\" : \"nav-link\"}>Сменить пароль</Link>\r\n            <Link to=\"/\" className=\"nav-link active-none\" onClick={() => onLogout()}>Выйти</Link>\r\n            {/* <Link>Выход</Link> */}\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div className=\"account\">\r\n            <div className=\"container mt-4\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-3 mt-4\">\r\n                        {renderLinks()}\r\n                    </div>\r\n                    <div className=\"col-md-9\">\r\n                        <Switch>\r\n                            <Route path=\"/account/orders\" component={Orders}></Route>\r\n                            <Route path=\"/account/info\" component={Info}></Route>\r\n                            <Route path=\"/account/change\" component={Change}></Route>\r\n                        </Switch>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useContext, useState } from 'react'\r\nimport * as R from 'ramda'\r\nimport { ItemsContext } from '../context/items/ItemsContext'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from 'antd'\r\nimport useReactRouter from 'use-react-router'\r\nimport { CloseOutlined } from'@ant-design/icons';\r\n\r\nexport const Admin = () => {\r\n\r\n    const { history } = useReactRouter()\r\n    const { fetchItemsAdmin, items, loading, deleteItem, flag } = useContext(ItemsContext)\r\n\r\n    useEffect(() => {\r\n        fetchItemsAdmin()\r\n        //eslint-disable-next-line\r\n    }, [flag])\r\n\r\n    const [ search, setSearch ]= useState('')\r\n\r\n    const applySearch = (item) => R.contains(\r\n        search.toUpperCase(), item.name.toUpperCase()\r\n    )\r\n    \r\n\r\n    const renderItems = () => {\r\n        return items\r\n        .filter((item) => applySearch(item))\r\n        .map((item, index) => {\r\n            return (\r\n                <div key={index} className=\"admin-product\">\r\n                    <div className=\"product-number\">\r\n                        {item.id}\r\n                    </div>\r\n                    <div className=\"product-number\">\r\n                        {item.categoryId}\r\n                    </div>\r\n                    <div className=\"product-field\">\r\n                        {item.name}\r\n                    </div>\r\n                    <div className=\"product-field\">\r\n                        {item.price}\r\n                    </div>\r\n                    <div className=\"product-field\">\r\n                        {`${R.take(20, item.description)}...`}\r\n                    </div>\r\n                    <div className=\"product-edit\">\r\n                        <Link to={`edit/${item.id}`}>Изменить</Link>\r\n                    </div>\r\n                    <div \r\n                        className=\"product-close\"\r\n                        onClick={() => deleteItem(item.id)}\r\n                    >\r\n                        <CloseOutlined />\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"admin\">\r\n                <div className=\"admin-header\">\r\n                    <div className=\"input-group\">\r\n                        <input\r\n                            onChange={event => setSearch(event.target.value)}\r\n                            value={search}\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Поиск...\"\r\n                            aria-describedby=\"basic-addon2\"\r\n                        />\r\n                        <div className=\"input-group-append\">\r\n                            <span className=\"input-group-text\" id=\"basic-addon2\" onClick={() => setSearch('')}>Очистить</span>\r\n                        </div>\r\n                    </div>\r\n                    <Button onClick={() => history.push(\"/add\")} type=\"primary\">Добавить товар</Button>\r\n                </div>\r\n                <div className=\"admin-product\">\r\n                    <div className=\"product-number\">\r\n                        id\r\n                    </div>\r\n                    <div className=\"product-number\">\r\n                        cat\r\n                    </div>\r\n                    <div className=\"product-field\">\r\n                        Название\r\n                    </div>\r\n                    <div className=\"product-field\">\r\n                        Цена\r\n                    </div>\r\n                    <div className=\"product-field\">\r\n                        Описание\r\n                    </div>\r\n                </div>\r\n                {loading\r\n                    ? <p>Загрузка...</p>\r\n                    : items.length === 0\r\n                        ? <p>Товаров нет</p>\r\n                        : renderItems()}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect } from 'react'\r\nimport { ItemsContext } from '../context/items/ItemsContext'\r\nimport { useRouteMatch } from 'react-router-dom'\r\nimport { Form, Input, Button } from 'antd';\r\nimport * as Yup from 'yup'\r\nimport { useFormik } from 'formik'\r\n\r\nconst validationSchema = Yup.object().shape({\r\n    name: Yup.string()\r\n        .required('Введите название товара'),\r\n    price: Yup.string()\r\n        .required('Введите цену товара'),\r\n    description: Yup.string()\r\n        .required('Введите описание товара'),\r\n})\r\n\r\nconst errorMessege = (touched, messege) => {\r\n    if (!touched) {\r\n        return\r\n    }\r\n    if (messege) {\r\n        return messege\r\n    }\r\n}\r\n\r\nexport const Edit = () => {\r\n\r\n    const { fetchItemById, item, loading, flag, changeItem } = useContext(ItemsContext)\r\n    const match = useRouteMatch('/edit/:id')\r\n\r\n    useEffect(() => {\r\n        fetchItemById(match.params.id)\r\n        // eslint-disable-next-line\r\n    }, [match.params.id, flag])\r\n\r\n    const initialValues = {\r\n        name: \"false\",\r\n        price: \"false\",\r\n        description: \"false\"\r\n    }\r\n\r\n    const formik = useFormik({\r\n        initialValues: initialValues,\r\n        validationSchema,\r\n        onSubmit: (values, { resetForm, setSubmitting }) => {\r\n            console.log(values)\r\n            changeItem(\r\n                item.id,\r\n                values.name !== \"false\" ? values.name : item.name, \r\n                values.price !== \"false\" ? values.price : item.price, \r\n                values.description !== \"false\" ? values.description : item.description, \r\n                )\r\n            setSubmitting(true)\r\n            setTimeout(() => {\r\n                resetForm()\r\n                setSubmitting(false)\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const { handleSubmit, handleChange, handleBlur, isSubmitting, errors, touched, values } = formik\r\n\r\n    return (\r\n        <div className=\"edit mt-4\">\r\n            {loading || !item\r\n                ? <p>Загрузка...</p>\r\n                : <>\r\n                    <h4>Редактирование товара с id =&nbsp;{item.id}</h4>\r\n                    <Form onFinish={handleSubmit}>\r\n                        <Form.Item\r\n                            name=\"name\"\r\n                            hasFeedback\r\n                            help={errorMessege(touched.name, errors.name)}\r\n                            validateStatus={errors.name ? \"error\" : \"success\"}\r\n                            initialValue={item.name}\r\n                        >\r\n                            <Input\r\n                                id=\"edit__name\"\r\n                                name=\"name\"\r\n                                placeholder=\"Название\"\r\n                                value={values.name}\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"price\"\r\n                            hasFeedback\r\n                            help={errorMessege(touched.price, errors.price)}\r\n                            validateStatus={errors.price ? \"error\" : \"success\"}\r\n                            initialValue={item.price}\r\n                        >\r\n                            <Input\r\n                                id=\"edit__price\"\r\n                                name=\"price\"\r\n                                placeholder=\"Цена\"\r\n                                value={values.price}\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"description\"\r\n                            hasFeedback\r\n                            help={errorMessege(touched.description, errors.description)}\r\n                            validateStatus={errors.description ? \"error\" : \"success\"}\r\n                            initialValue={item.description}\r\n                        >\r\n                            <Input.TextArea\r\n                                id=\"edit__description\"\r\n                                name=\"description\"\r\n                                placeholder=\"Описание\"\r\n                                value={values.description}\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" htmlType=\"submit\" disabled={isSubmitting}>\r\n                                Подтвердить\r\n                    </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { ItemsContext } from '../context/items/ItemsContext'\r\nimport { Form, Input, Button, Radio } from 'antd';\r\nimport * as Yup from 'yup'\r\nimport { useFormik } from 'formik'\r\nimport useReactRouter from 'use-react-router'\r\n\r\nconst validationSchema = Yup.object().shape({\r\n    name: Yup.string()\r\n        .required('Введите название товара'),\r\n    price: Yup.string()\r\n        .required('Введите цену товара'),\r\n    description: Yup.string()\r\n        .required('Введите описание товара'),\r\n})\r\n\r\nconst errorMessege = (touched, messege) => {\r\n    if (!touched) {\r\n        return\r\n    }\r\n    if (messege) {\r\n        return messege\r\n    }\r\n}\r\n\r\nexport const Add = () => {\r\n\r\n    const { history } = useReactRouter()\r\n    const { addItem } = useContext(ItemsContext)\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            name: \"false\",\r\n            price: \"false\",\r\n            description: \"false\",\r\n            category: '1'\r\n        },\r\n        validationSchema,\r\n        onSubmit: (values, { resetForm, setSubmitting }) => {\r\n            setSubmitting(true)\r\n            addItem(values, values.category)\r\n            setTimeout(() => {\r\n                resetForm()\r\n                setSubmitting(false)\r\n                history.push(\"/admin\")\r\n            }, 500)\r\n        }\r\n    });\r\n\r\n    const { handleSubmit, handleChange, handleBlur, isSubmitting, errors, touched, values } = formik\r\n\r\n    return (\r\n        <div className=\"edit mt-4\">\r\n            <h4>Добавление товара</h4>\r\n            <Form onFinish={handleSubmit}>\r\n                <Form.Item\r\n                    name=\"category\"\r\n                    initialValue=\"1\"\r\n                >\r\n                    <Radio.Group value={values.category} onChange={handleChange} id=\"edit_category\" name=\"category\"> \r\n                        <Radio.Button value=\"1\">Apple</Radio.Button>\r\n                        <Radio.Button value=\"2\">Samsung</Radio.Button>\r\n                        <Radio.Button value=\"3\">HTC</Radio.Button>\r\n                        <Radio.Button value=\"4\">Lenovo</Radio.Button>\r\n                        <Radio.Button value=\"5\">Nokia</Radio.Button>\r\n                    </Radio.Group>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"name\"\r\n                    hasFeedback\r\n                    help={errorMessege(touched.name, errors.name)}\r\n                    validateStatus={!touched.email ? null : errors.name ? \"error\" : \"success\"}\r\n                >\r\n                    <Input\r\n                        id=\"edit__name\"\r\n                        name=\"name\"\r\n                        placeholder=\"Название\"\r\n                        value={values.name}\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"price\"\r\n                    hasFeedback\r\n                    help={errorMessege(touched.price, errors.price)}\r\n                    validateStatus={!touched.email ? null : errors.price ? \"error\" : \"success\"}\r\n                >\r\n                    <Input\r\n                        id=\"edit__price\"\r\n                        name=\"price\"\r\n                        placeholder=\"Цена\"\r\n                        value={values.price}\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"description\"\r\n                    hasFeedback\r\n                    help={errorMessege(touched.description, errors.description)}\r\n                    validateStatus={!touched.email ? null : errors.description ? \"error\" : \"success\"}\r\n                >\r\n                    <Input.TextArea\r\n                        id=\"edit__description\"\r\n                        name=\"description\"\r\n                        placeholder=\"Описание\"\r\n                        value={values.description}\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\" disabled={isSubmitting}>\r\n                        Подтвердить\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </div >\r\n    )\r\n}\r\n","import React, { useContext, useEffect } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { AuthContext } from '../../context/auth/AuthContext'\r\n\r\nexport const Logout = () => {\r\n\r\n    const { logout } = useContext(AuthContext)\r\n\r\n    useEffect(() => {\r\n        logout()\r\n    // eslint-disable-next-line\r\n    }, [])\r\n\r\n    return <Redirect to=\"/\" exact/>\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport { Redirect } from 'react-router-dom'\r\nimport store from 'store'\r\n\r\nimport { Main } from './containers/Main';\r\nimport { Items } from './containers/Items';\r\nimport { Item } from './containers/Item';\r\nimport { Basket } from './containers/Basket';\r\nimport { Reg } from './containers/Reg';\r\nimport { Log } from './containers/Log';\r\nimport { About } from './containers/About';\r\nimport { Account } from './containers/Account';\r\nimport { Admin } from './containers/Admin';\r\nimport { Edit } from './containers/Edit';\r\nimport { Add } from './containers/Add';\r\nimport { Logout } from './components/Navigation/Logout';\r\nimport { AuthContext } from './context/auth/AuthContext';\r\n\r\nexport const Routes = () => {\r\n\r\n    const { token } = useContext(AuthContext)\r\n    const isAuthenticated = !!token\r\n    \r\n    let routes = (\r\n        <Switch>\r\n            <Route path=\"/\" component={Main} exact />\r\n            <Route path=\"/items\" component={Items} exact />\r\n            <Route path=\"/items/:id\" component={Item} />\r\n            <Route path=\"/basket\" component={Basket} />\r\n            <Route path=\"/reg\" component={Reg} />\r\n            <Route path=\"/log\" component={Log} />\r\n            <Route path=\"/about\" component={About} />\r\n            <Redirect to={\"/\"} />\r\n        </Switch>\r\n    )\r\n\r\n    if (isAuthenticated) {\r\n        routes = (\r\n            <Switch>\r\n                <Route path=\"/\" component={Main} exact />\r\n                <Route path=\"/items\" component={Items} exact />\r\n                <Route path=\"/items/:id\" component={Item} />\r\n                <Route path=\"/basket\" component={Basket} />\r\n                <Route path=\"/reg\" component={Reg} />\r\n                <Route path=\"/log\" component={Log} />\r\n                <Route path=\"/about\" component={About} />\r\n                <Route path=\"/logout\" component={Logout} />\r\n                <Route path=\"/account\" component={Account} />\r\n                {store.get('isAdmin') ? <Route path=\"/admin\" component={Admin} /> : null}\r\n                {store.get('isAdmin') ? <Route path=\"/edit/:id\" component={Edit} /> : null}\r\n                {store.get('isAdmin') ? <Route path=\"/add\" component={Add} /> : null}\r\n                <Redirect to={\"/\"} />\r\n            </Switch>\r\n        )\r\n    }\r\n    return (\r\n        routes\r\n    )\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport const Backdrop = props => <div className=\"backdrop\" onClick={props.onClick}></div>\r\n\r\nBackdrop.propTypes = {\r\n    onClick: PropTypes.func\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Fragment, useContext } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport { Backdrop } from './Backdrop'\r\nimport { AuthContext } from '../../context/auth/AuthContext'\r\n\r\nexport function Drower({ onClose, isOpen }) {\r\n\r\n    const { token } = useContext(AuthContext)\r\n    const isAuthenticated = !!token\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className={isOpen ? \"drower\" : \"drower close\"}>\r\n                <ul>\r\n                    <li>\r\n                        <NavLink exact to=\"/\" className=\"nav-link\" onClick={() => onClose()}>Главная</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink exact to=\"/items\" className=\"nav-link\" onClick={() => onClose()}>Каталог</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/about\" className=\"nav-link\" onClick={() => onClose()}>О нас</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/basket\" className=\"nav-link\" onClick={() => onClose()}>Корзина</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        {\r\n                            isAuthenticated\r\n                             ? <NavLink to=\"/account/info\" className=\"nav-link\" onClick={() => onClose()}>Кабинет</NavLink>\r\n                             : null\r\n                        }\r\n                    </li>\r\n                    <li>\r\n                        {\r\n                            isAuthenticated \r\n                             ? null\r\n                             : <NavLink to=\"/log\" className=\"nav-link\" onClick={() => {onClose();}}>Войти</NavLink>\r\n                        }\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            {\r\n                isOpen\r\n                    ? <Backdrop onClick={() => onClose()} />\r\n                    : null\r\n            }\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nDrower.propTypes = {\r\n    onClose: PropTypes.func,\r\n    isOpen: PropTypes.bool,\r\n}\r\n","import PropTypes from 'prop-types'\r\nimport { MenuOutlined, CloseOutlined } from'@ant-design/icons';\r\nimport React from 'react'\r\n\r\nexport const MenuToggle = ({isOpen, isToggle}) => {\r\n    return (\r\n        <div \r\n            className={isOpen ? 'menuToggle open' : 'menuToggle'} \r\n            onClick={isToggle}    \r\n        >\r\n            {isOpen \r\n            ? <CloseOutlined />\r\n            : <MenuOutlined />}\r\n        </div>\r\n    )\r\n}\r\n\r\nMenuToggle.propTypes = {\r\n    isOpen: PropTypes.bool,\r\n    isToggle: PropTypes.func\r\n}","import React, { useState, useContext } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { Drower } from './Drower'\r\nimport { MenuToggle } from './MenuToggle'\r\nimport { BasketContext } from '../../context/basket/BasketContext'\r\nimport { AuthContext } from '../../context/auth/AuthContext'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport store from 'store'\r\n\r\nexport const Header = () => {\r\n\r\n    const [menu, setMenu] = useState(false)\r\n    const { token } = useContext(AuthContext)\r\n    const { count } = useContext(BasketContext)\r\n    const isAuthenticated = !!token\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <div className=\"cont\">\r\n                <div className=\"ro\">\r\n                    <div className=\"header-logo\">\r\n                        <div className=\"header-item\">\r\n                            <NavLink to=\"/basket\" className=\"nav-link nav-shipping\"><ShoppingCartOutlined /></NavLink>\r\n                            {count === 0 ? null : <p>{count}</p>}\r\n                        </div>\r\n                        <NavLink exact to=\"/\" className=\"nav-link\">Shop</NavLink>\r\n                    </div>\r\n                    <div className=\"header-body\">\r\n                        <div className=\"header-item\">\r\n                            <NavLink exact to=\"/\" className=\"nav-link\">Главная</NavLink>\r\n                        </div>\r\n                        <div className=\"header-item\">\r\n                            <NavLink exact to=\"/items\" className=\"nav-link\">Каталог</NavLink>\r\n                        </div>\r\n                        <div className=\"header-item\">\r\n                            <NavLink to=\"/about\" className=\"nav-link\">О нас</NavLink>\r\n                        </div>\r\n                        {\r\n                            isAuthenticated\r\n                                ? <div className=\"header-item\">\r\n                                    <NavLink to=\"/account/info\" className=\"nav-link\">Личный кабинет</NavLink>\r\n                                </div>\r\n                                : null\r\n                        }\r\n                        {\r\n                            store.get('isAdmin')\r\n                                ? <div className=\"header-item\">\r\n                                    <NavLink to=\"/admin\" className=\"nav-link\">Админка</NavLink>\r\n                                </div>\r\n                                : null\r\n                        }\r\n                        <div className=\"header-right\">\r\n                            <motion.div\r\n                                className=\"header-item\"\r\n                                drag\r\n                                dragConstraints={{ left: 0, right: 0, top: 0, bottom: 0 }}\r\n                            >\r\n                                <NavLink to=\"/basket\" className=\"nav-link nav-shipping\"><ShoppingCartOutlined /></NavLink>\r\n                                <AnimatePresence>{count === 0 ? null : <motion.p transition={{ duration: 1 }} initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>{count}</motion.p>}</AnimatePresence>\r\n                            </motion.div>\r\n                            <div className=\"header-item\">\r\n                                {\r\n                                    isAuthenticated\r\n                                        ? null\r\n                                        : <NavLink to=\"/log\" className=\"nav-link\">Войти</NavLink>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Drower isOpen={menu} onClose={() => setMenu(!menu)} />\r\n                <MenuToggle isOpen={menu} isToggle={() => setMenu(!menu)} />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useContext, useEffect } from 'react'\r\nimport { AlertContext } from '../context/alert/AlertContext'\r\nimport { motion } from 'framer-motion'\r\n\r\nexport const Alert = () => {\r\n\r\n    const { alert, hide } = useContext(AlertContext)\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            hide()\r\n        }, 2000)\r\n        //eslint-disable-next-line\r\n    }, [alert])\r\n\r\n    if (!alert) return null\r\n\r\n    return (\r\n        <motion.div \r\n            className=\"alert-wrapper\"\r\n            initial={{opacity: 0}}\r\n            animate={{opacity: 1}}\r\n            exit={{opacity: 0}}\r\n            transition={{duration: 1}}\r\n        >\r\n            <div\r\n                className={`alert alert-${alert.type || 'secondary'} alert-dismissible`}\r\n                role=\"alert\"\r\n            >\r\n                {alert.text}\r\n                <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={hide}>\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n        </motion.div>\r\n    )\r\n}","import {\r\n    SHOW_ALERT,\r\n    HIDE_ALERT\r\n} from '../types'\r\n\r\nconst handlers = {\r\n    [SHOW_ALERT]: (state, action) => action.payload,\r\n    [HIDE_ALERT]: () => null,\r\n    DEFAULT: state => state \r\n}\r\n\r\nexport const AlertReducer = (state, action) => {\r\n    const handler = handlers[action.type] || handlers.DEFAULT\r\n    return handler(state, action)\r\n}","export const SET_LOADING = 'SET_LOADING' \r\nexport const FETCH_ITEMS_SUCCESS = 'FETCH_ITEMS_SUCCESS' \r\nexport const FETCH_ERROR = 'FETCH_ERROR' \r\nexport const SET_CURRENT_PAGE= 'SET_CURRENT_PAGE' \r\nexport const SET_TOTAL_COUNT= 'SET_TOTAL_COUNT' \r\nexport const FETCH_ITEM_BY_ID_SUCCESS = 'FETCH_ITEM_BY_ID_SUCCESS' \r\nexport const SHOW_ALERT = 'SHOW_ALERT'\r\nexport const HIDE_ALERT = 'HIDE_ALERT'\r\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS'\r\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT'\r\nexport const SET_CHECKED_LIST = 'SET_CHECKED_LIST'\r\nexport const SET_SEARCH = 'SET_SEARCH'\r\nexport const SET_LOADING_BASKET = 'SET_LOADING_BASKET'\r\nexport const FETCH_BASKET_SUCCESS = 'FETCH_BASKET_SUCCESS'\r\nexport const SET_PARAMS = 'SET_PARAMS'\r\nexport const SET_FLAG = 'SET_FLAG'\r\nexport const REMOVE_ITEM_TO_BASKET = 'REMOVE_ITEM_TO_BASKET'\r\nexport const ADD_ITEM_TO_BASKET = 'ADD_ITEM_TO_BASKET'\r\nexport const CLEAR_ITEM_TO_BASKET = 'CLEAR_ITEM_TO_BASKET'\r\nexport const FETCH_ACCOUNT_SUCCESS = 'FETCH_ACCOUNT_SUCCESS'\r\nexport const SET_FLAG_ITEM = 'SET_FLAG_ITEM'\r\nexport const SET_ORDERING = 'SET_ORDERING'\r\nexport const SET_SLIDER = 'SET_SLIDER'\r\nexport const SET_FLAG_COMMENT = 'SET_FLAG_COMMENT'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useReducer} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { AlertContext } from './AlertContext'\r\nimport { AlertReducer } from './AlertReducer'\r\nimport {\r\n    HIDE_ALERT,\r\n    SHOW_ALERT\r\n} from '../types'\r\n\r\nexport const AlertState = ({children}) => {\r\n\r\n    const [state, dispatch] = useReducer(AlertReducer, null)\r\n\r\n    const hide = () => dispatch({type: HIDE_ALERT})\r\n\r\n    const show = (text, type = 'secondary') => \r\n    dispatch({\r\n        type: SHOW_ALERT,\r\n        payload: {type, text}\r\n    })\r\n\r\n    return (\r\n        <AlertContext.Provider value={{\r\n            hide, show, alert: state\r\n        }}> \r\n            {children}\r\n        </AlertContext.Provider>\r\n    )\r\n}\r\n\r\nAlertState.propTypes = {\r\n    children: PropTypes.element\r\n}\r\n\r\n","import {\r\n    SET_LOADING,\r\n    FETCH_ITEMS_SUCCESS,\r\n    FETCH_ERROR,\r\n    SET_CURRENT_PAGE,\r\n    SET_TOTAL_COUNT,\r\n    FETCH_ITEM_BY_ID_SUCCESS,\r\n    SET_CHECKED_LIST,\r\n    SET_SEARCH,\r\n    SET_FLAG_ITEM,\r\n    SET_ORDERING,\r\n    SET_SLIDER,\r\n} from '../types'\r\n\r\nconst handlers = {\r\n    [SET_LOADING]: state => ({...state, loading: true}),\r\n    [SET_FLAG_ITEM]: state => ({...state, flag: !state.flag}),\r\n    [FETCH_ITEMS_SUCCESS]: (state, {payload}) => ({...state, items: payload, loading: false}),\r\n    [FETCH_ITEM_BY_ID_SUCCESS]: (state, {payload}) => ({...state, item: payload, loading: false}),\r\n    [FETCH_ERROR]: (state, {payload}) => ({...state, error: payload, loading: false}),\r\n    [SET_CURRENT_PAGE]: (state, {payload}) => ({...state, currentPage: payload}),\r\n    [SET_ORDERING]: (state, {payload}) => ({...state, ordering: payload}),\r\n    [SET_SLIDER]: (state, {payload}) => ({...state, currentMin: payload.currentMin, currentMax: payload.currentMax}),\r\n    [SET_TOTAL_COUNT]: (state, {payload}) => ({...state, totalItemsCount: payload}),\r\n    [SET_CHECKED_LIST]: (state, {payload}) => ({...state, checkedList: payload}),\r\n    [SET_SEARCH]: (state, {payload}) => ({...state, search: payload === '' ? null : payload}),\r\n    DEFAULT: state => state\r\n} \r\n\r\nexport const ItemsReducer = (state, action) => {\r\n    const handler = handlers[action.type] || handlers.DEFAULT\r\n    return handler(state, action)\r\n}\r\n\r\n","export const localhost = 'http://localhost:8000'","import React, { useReducer } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport axios from 'axios'\r\nimport { ItemsContext } from './ItemsContext'\r\nimport { ItemsReducer } from './ItemsReducer'\r\nimport store from 'store'\r\nimport qs from 'qs';\r\nimport {localhost} from '../../config'\r\n\r\nimport {\r\n    SET_LOADING,\r\n    FETCH_ITEMS_SUCCESS,\r\n    FETCH_ERROR,\r\n    SET_CURRENT_PAGE,\r\n    SET_TOTAL_COUNT,\r\n    FETCH_ITEM_BY_ID_SUCCESS,\r\n    SET_CHECKED_LIST,\r\n    SET_SEARCH,\r\n    SET_FLAG_ITEM,\r\n    SET_ORDERING,\r\n    SET_SLIDER,\r\n} from '../types'\r\n\r\nexport const ItemsState = ({ children }) => {\r\n    const initialState = {\r\n        items: [],\r\n        item: null,\r\n        pageSize: 9,\r\n        currentPage: store.get('currentPage') === undefined ? 1 : store.get('currentPage'),\r\n        totalItemsCount: 0,\r\n        loading: true,\r\n        error: null,\r\n        checkedList: store.get('checkedList') === undefined ? ['Apple', 'Samsung', 'HTC', 'Lenovo', 'Nokia'] : store.get('checkedList'),\r\n        search: store.get('search') === undefined ? null : store.get('search'),\r\n        flag: false,\r\n        min: 0,\r\n        max: 100000,\r\n        currentMin: store.get('currentMin') === undefined ? 0 : store.get('currentMin'),\r\n        currentMax: store.get('currentMax') === undefined ? 20000 : store.get('currentMax'),\r\n        ordering: store.get('ordering') === undefined ? 0 : store.get('ordering')\r\n    }\r\n\r\n    const [state, dispatch] = useReducer(ItemsReducer, initialState)\r\n\r\n    const fetchItems = async () => {\r\n        setLoading()\r\n        try {\r\n            let fl = true\r\n            let url = `${localhost}/api/${state.checkedList}/${state.currentPage}/${state.pageSize}/${state.search}/${state.currentMin}/${state.currentMax}/${state.ordering}/`\r\n            let urlLen = `${localhost}/api/len/${state.checkedList}/${state.search}/${state.currentMin}/${state.currentMax}/`\r\n\r\n            if (state.checkedList.length === 0) {\r\n                url = `${localhost}/api/null/${state.currentPage}/${state.pageSize}/${state.search}/${state.currentMin}/${state.currentMax}/${state.ordering}/`\r\n                urlLen = `${localhost}/api/len/null/${state.search}/${state.currentMin}/${state.currentMax}/`\r\n                fl = false\r\n            }\r\n            const response = await axios.get(url)\r\n\r\n            if (fl) { fetchItemsSuccess(response.data) } else fetchItemsSuccess([])\r\n            const length = await axios.get(urlLen)\r\n            setTotalCount(length.data[0].total)\r\n\r\n        } catch (e) {\r\n            fetchError(e)\r\n        }\r\n    }\r\n\r\n    const fetchItemById = async id => {\r\n        setLoading()\r\n        try {\r\n            const response = await axios.get(`${localhost}/items/api/id/${id}`)\r\n            fetchItemByIdSuccess(response.data)\r\n        } catch (e) {\r\n            fetchError(e)\r\n        }\r\n    }\r\n\r\n    const setRated = async (id, email, rating) => {\r\n        const data = { uid: id, email, rating }\r\n        const options = {\r\n            method: 'POST',\r\n            url: `${localhost}/feedback/rating`,\r\n            data: qs.stringify(data)\r\n        }\r\n        await axios(options)\r\n            .then((response) => {\r\n                setFlag()\r\n                console.log(response.data)\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const setComment = async (id, firstName, rating, description) => {\r\n        const data = { uid: id, email: store.get('email'), rating, first_name: firstName, description }\r\n        const options = {\r\n            method: 'POST',\r\n            url: `${localhost}/feedback/comment`,\r\n            data: qs.stringify(data)\r\n        }\r\n        await axios(options)\r\n            .then((response) => {\r\n                setFlag()\r\n                console.log(response.data)\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const fetchItemsAdmin = async () => {\r\n        setLoading()\r\n        try {\r\n            const url = '${localhost}/all/'\r\n            const response = await axios.get(url)\r\n            fetchItemsSuccess(response.data)\r\n        } catch(e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    const changeItem = async (id, name, price, description) => {\r\n        const data = { name, price, description }\r\n        const options = {\r\n            method: 'PUT',\r\n            url: `${localhost}/product_edit/${id}`,\r\n            data: qs.stringify(data)\r\n        }\r\n        await axios(options)\r\n            .then((response) => {\r\n                setFlag()\r\n                console.log(response.data)\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const addItem = async (values, category) => {\r\n        const data = { ...values, categoryId: category }\r\n        const options = {\r\n            method: 'POST',\r\n            url: `${localhost}/create_product`,\r\n            data: qs.stringify(data)\r\n        }\r\n        await axios(options)\r\n            .then((response) => {\r\n                console.log(response.data)\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const deleteItem = async (id) => {\r\n        const options = {\r\n            method: 'DELETE',\r\n            url: `${localhost}/delete_product/${id}`,\r\n        }\r\n        await axios(options)\r\n            .then((response) => {\r\n                setFlag()\r\n                console.log(response.data)\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const fetchItemByIdSuccess = (item) => dispatch({ type: FETCH_ITEM_BY_ID_SUCCESS, payload: item })\r\n\r\n    const fetchItemsSuccess = (items) => dispatch({ type: FETCH_ITEMS_SUCCESS, payload: items })\r\n\r\n    const fetchError = (e) => dispatch({ type: FETCH_ERROR, payload: e })\r\n\r\n    const setCurrentPage = (currentPage) => dispatch({ type: SET_CURRENT_PAGE, payload: currentPage })\r\n\r\n    const setLoading = () => dispatch({ type: SET_LOADING })\r\n\r\n    const setTotalCount = (totalItemsCount) => dispatch({ type: SET_TOTAL_COUNT, payload: totalItemsCount })\r\n\r\n    const setCheckedList = (checkedList) => dispatch({ type: SET_CHECKED_LIST, payload: checkedList })\r\n\r\n    const setSearch = (search) => dispatch({ type: SET_SEARCH, payload: search })\r\n\r\n    const setOrdering = (ordering) => dispatch({ type: SET_ORDERING, payload: ordering })\r\n\r\n    const setSlider = (currentMin, currentMax) => dispatch({ type: SET_SLIDER, payload: { currentMin, currentMax } })\r\n\r\n    const setFlag = () => dispatch({ type: SET_FLAG_ITEM })\r\n\r\n    const { items, item, pageSize, currentPage, totalItemsCount, loading, checkedList, search, flag,\r\n        min, max, currentMin, currentMax, ordering } = state\r\n\r\n    return (\r\n        <ItemsContext.Provider value={{\r\n            setSearch,\r\n            fetchItems,\r\n            fetchItemById,\r\n            setCurrentPage,\r\n            setTotalCount,\r\n            setCheckedList,\r\n            setRated,\r\n            setComment,\r\n            setSlider,\r\n            setOrdering,\r\n            fetchItemsAdmin,\r\n            changeItem,\r\n            addItem,\r\n            deleteItem,\r\n            items, item, pageSize, currentPage, totalItemsCount, loading, checkedList, search, flag,\r\n            min, max, currentMin, currentMax, ordering\r\n        }}>\r\n            {children}\r\n        </ItemsContext.Provider>\r\n    )\r\n}\r\n\r\nItemsState.propTypes = {\r\n    children: PropTypes.element\r\n}\r\n\r\n","import {\r\n    SET_LOADING_BASKET,\r\n    FETCH_BASKET_SUCCESS,\r\n    SET_PARAMS,\r\n    SET_FLAG,\r\n    REMOVE_ITEM_TO_BASKET,\r\n    ADD_ITEM_TO_BASKET,\r\n    CLEAR_ITEM_TO_BASKET\r\n} from '../types'\r\n\r\nconst handlers = {\r\n    [SET_FLAG]: (state) => ({ ...state, flag: !state.flag }),\r\n    [SET_LOADING_BASKET]: (state) => ({ ...state, loading: true }),\r\n    [FETCH_BASKET_SUCCESS]: (state, { payload }) => ({ ...state, loading: false, basket: payload.basket, price: payload.price, count: payload.count }),\r\n    [SET_PARAMS]: (state, { payload }) => ({ ...state, price: payload.price, count: payload.count }),\r\n    [REMOVE_ITEM_TO_BASKET]: (state, { item, amount }) => {\r\n        if (!state.basket.find(x => x.product.id === item.id)) {\r\n            return ({...state})\r\n        }\r\n        return ({\r\n            ...state,\r\n            price: state.price - item.price * amount < 0 ? 0 : state.price - item.price * amount,\r\n            count: state.count - amount < 0 ? 0 : state.count - amount,\r\n            basket: state.basket\r\n                .filter(x => {\r\n                    if (x.product.id === item.id && x.amount === amount) {\r\n                        return false\r\n                    }\r\n                    return true\r\n                })\r\n                .map(x => x.product.id === item.id ? { amount: x.amount - amount, id: x.id, product: x.product } : x)\r\n        })\r\n    },\r\n    [ADD_ITEM_TO_BASKET]: (state, { item, amount }) => ({\r\n        ...state,\r\n        price: state.price + item.price * amount,\r\n        count: state.count + amount,\r\n        basket: state.basket\r\n            .map(x => x.product.id === item.id ? { amount: x.amount + 1, id: x.id, product: x.product } : x)\r\n    }),\r\n    [CLEAR_ITEM_TO_BASKET]: (state) => ({ ...state, basket: [], price: 0, count: 0 }),\r\n    DEFAULT: state => state\r\n}\r\n\r\nexport const BasketReducer = (state, action) => {\r\n    const handler = handlers[action.type] || handlers.DEFAULT\r\n    return handler(state, action)\r\n}","import React, { useReducer } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n    FETCH_BASKET_SUCCESS,\r\n    SET_LOADING_BASKET,\r\n    SET_FLAG,\r\n    REMOVE_ITEM_TO_BASKET,\r\n    ADD_ITEM_TO_BASKET,\r\n    CLEAR_ITEM_TO_BASKET\r\n} from '../types'\r\nimport { BasketContext } from './BasketContext'\r\nimport { BasketReducer } from './BasketReducer'\r\nimport store from 'store'\r\nimport axios from 'axios'\r\nimport qs from 'qs';\r\nimport {localhost} from '../../config'\r\n\r\nexport const BasketState = ({ children }) => {\r\n\r\n    const initialState = {\r\n        loading: false,\r\n        basket: store.get('basket') === undefined ? [] : store.get('basket'),\r\n        price: store.get('price') === undefined ? 0 : store.get('price'),\r\n        count: store.get('count') === undefined ? 0 : store.get('count'),\r\n        flag: false\r\n    }\r\n\r\n    const [state, dispatch] = useReducer(BasketReducer, initialState)\r\n\r\n    const fetchBasket = async () => {\r\n        setLoading()\r\n        try {\r\n            const url = `${localhost}/cart/api/get_order/${store.get('email')}`\r\n            const response = await axios.get(url)\r\n            const data = response.data[0]\r\n            fetchBasketSuccess(data.items, data.total_price, data.total_count)  \r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n\r\n    const fetchBasketSuccess = (basket, price, count) => dispatch({ type: FETCH_BASKET_SUCCESS, payload: {basket, price, count} })\r\n\r\n    const setLoading = () => dispatch({ type: SET_LOADING_BASKET })\r\n\r\n    const setFlag = () => dispatch({ type: SET_FLAG })\r\n\r\n    const addItemToBasket = async (item, amount = 1) => {\r\n        const data = { uid: item.id, amount: amount, email: store.get('email') }\r\n        const options = {\r\n            method: 'POST',\r\n            url: `${localhost}/cart/add`,\r\n            data: qs.stringify(data)\r\n        }\r\n        await axios(options)\r\n            .then((response) => {\r\n                if (response.data !== 'added') {\r\n                    store.set('email', response.data)\r\n                }\r\n                addItemToBasketSuccess(item, amount)\r\n                setFlag()\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const removeItemToBasket = async (item, amount = 1) => {\r\n        const data = { uid: item.id, amount: amount, email: store.get('email') }\r\n        const options = {\r\n            method: 'POST',\r\n            url: `${localhost}/cart/remove`,\r\n            data: qs.stringify(data)\r\n        }\r\n        await axios(options)\r\n            .then((response) => {\r\n                removeItemToBasketSuccess(item, amount)\r\n                setFlag()\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const clearItemToBasket = async () => {\r\n        const data = { email: store.get('email') }\r\n        const options = {\r\n            method: 'POST',\r\n            url: `${localhost}/cart/clear`,\r\n            data: qs.stringify(data)\r\n        }\r\n        await axios(options)\r\n            .then((response) => {\r\n                clearItemToBasketSuccess()\r\n                setFlag()\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const removeItemToBasketSuccess = (item, amount) => dispatch({ type: REMOVE_ITEM_TO_BASKET, item, amount })\r\n\r\n    const addItemToBasketSuccess = (item, amount) => dispatch({ type: ADD_ITEM_TO_BASKET, item, amount })\r\n\r\n    const clearItemToBasketSuccess = () => dispatch({type: CLEAR_ITEM_TO_BASKET})\r\n\r\n    const { loading, basket, price, count, flag } = state\r\n\r\n    return (\r\n        <BasketContext.Provider value={{\r\n            addItemToBasket,\r\n            removeItemToBasket,\r\n            clearItemToBasket,\r\n            fetchBasket,\r\n            setFlag,\r\n            loading, basket, price, count, flag\r\n        }}>\r\n            {children}\r\n        </BasketContext.Provider>\r\n    )\r\n}\r\n\r\nBasketState.propTypes = {\r\n    children: PropTypes.element\r\n}","import {\r\n    AUTH_LOGOUT, AUTH_SUCCESS, FETCH_ACCOUNT_SUCCESS, SET_LOADING\r\n} from '../types'\r\n\r\nconst handlers = {\r\n    [AUTH_SUCCESS]: (state, {payload}) => ({...state, token: payload}),\r\n    [SET_LOADING]: (state) => ({...state, loading: true}),\r\n    [FETCH_ACCOUNT_SUCCESS]: (state, {payload}) => ({\r\n        ...state, \r\n        email: payload.email, \r\n        firstName: payload.first_name, \r\n        lastName: payload.last_name, \r\n        number: payload.phone_number,\r\n        loading: false\r\n    }),\r\n    [AUTH_LOGOUT]: (state) => ({...state, token: null}),\r\n    DEFAULT: state => state \r\n}\r\n\r\nexport const AuthReducer = (state, action) => {\r\n    const handler = handlers[action.type] || handlers.DEFAULT\r\n    return handler(state, action)\r\n}","import React, { useReducer, useContext } from 'react'\r\nimport axios from 'axios'\r\nimport PropTypes from 'prop-types'\r\nimport store from 'store'\r\nimport qs from 'qs';\r\nimport { AuthContext } from './AuthContext'\r\nimport { AuthReducer } from './AuthReducer'\r\nimport { AlertContext } from '../alert/AlertContext'\r\nimport { AUTH_SUCCESS, AUTH_LOGOUT, FETCH_ACCOUNT_SUCCESS, SET_LOADING } from '../types'\r\nimport {localhost} from '../../config'\r\n\r\nexport const AuthState = ({ children }) => {\r\n\r\n    const { show } = useContext(AlertContext)\r\n\r\n    const initialState = {\r\n        token: store.get('token') === undefined ? null : store.get('token'),\r\n        email: null,\r\n        firstName: null,\r\n        lastName: null,\r\n        number: null,\r\n        loading: false\r\n    }\r\n\r\n    const [state, dispatch] = useReducer(AuthReducer, initialState)\r\n\r\n    const authLogin = async (email, password) => {\r\n        await axios.post(`${localhost}/account/login`, {\r\n            username: email, password\r\n        })\r\n            .then((response) => {\r\n                const expirationDate = new Date(new Date().getTime() + 3600 * 1000 * 24)\r\n                store.set('token', response.data.token)\r\n                store.set('expirationDate', expirationDate)\r\n                store.set('email', email)\r\n                store.remove('count')\r\n                store.remove('price')\r\n                store.remove('basket')\r\n\r\n                authSuccess(response.data.token)\r\n                fetchAccount()\r\n\r\n                show('Вы успешно вошли!', 'success')\r\n                console.log(response.data)\r\n            })\r\n            .catch((error) => {\r\n                show('Неверный логин или пароль!', 'warning')\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const authRegister = async (email, firstName, lastName, number, password) => {\r\n        await axios.post(`${localhost}/account/register`, {\r\n            email: email, first_name: firstName, last_name: lastName, phone_number: number, password: password\r\n        })\r\n            .then((response) => {\r\n                show('На ваш E-mail пришло письмо с подтверждением!', 'success')\r\n            })\r\n            .catch((error) => {\r\n                show('Пользователь с такими данными уже существует!', 'warning')\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const authSuccess = (token) => dispatch({ type: AUTH_SUCCESS, payload: token })\r\n\r\n    const autoLogout = (time) => setTimeout(() => { logout() }, time * 1000)\r\n\r\n    const onLogout = () => { show('Вы успешно вышли!', 'success'); logout(); }\r\n\r\n    const autoLogin = () => {\r\n        const token = store.get('token')\r\n        if (!token) {\r\n            logout()\r\n        } else {\r\n            const expirationDate = new Date(store.get('expirationDate'))\r\n            if (expirationDate <= new Date()) {\r\n                logout()\r\n            } else {\r\n                authSuccess(token)\r\n                autoLogout((expirationDate.getTime() - new Date().getTime()) / 1000)\r\n            }\r\n        }\r\n    }\r\n\r\n    const logout = () => {\r\n        store.remove('token')\r\n        store.remove('expirationDate')\r\n        store.remove('email')\r\n        store.remove('count')\r\n        store.remove('price')\r\n        store.remove('basket')\r\n        store.remove('search')\r\n        store.remove('ordering')\r\n        store.remove('isAdmin')\r\n        dispatch({\r\n            type: AUTH_LOGOUT\r\n        })\r\n    }\r\n\r\n    const fetchAccount = async () => {\r\n        try {\r\n            const response = await axios.get(`${localhost}/account/api/${store.get('email')}`)\r\n            fetchAccountSuccess(response.data[0])\r\n            store.set('isAdmin', response.data[0])\r\n            // console.log(response.data[0])\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    const fetchAccountSuccess = (info) => dispatch({ type: FETCH_ACCOUNT_SUCCESS, payload: info })\r\n\r\n    const changeAccount = async (email, firstName, lastName, number) => {\r\n        setLoading()\r\n        const data = { email, first_name: firstName, last_name: lastName, phone_number: number }\r\n        const options = {\r\n            method: 'PUT',\r\n            url: `${localhost}/account/data_change/${store.get('email')}`,\r\n            data: qs.stringify(data)\r\n        }\r\n        await axios(options)\r\n            .then((response) => {\r\n                store.set('email', email)\r\n                fetchAccountSuccess(data)\r\n                show('Вы успешно сменили данные!', 'success')\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n                show('Что-то пошло не так!', 'warning')\r\n            });\r\n    }\r\n\r\n    const changePassword = async (password) => {\r\n        const data = { email: store.get('email'), password }\r\n        const options = {\r\n            method: 'POST',\r\n            url: `${localhost}/acc/password_change`,\r\n            data: qs.stringify(data)\r\n        }\r\n        await axios(options)\r\n            .then((response) => {\r\n                console.log(response.data)\r\n                show('Вы успешно сменили пароль!', 'success')\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n                show('Что-то пошло не так!', 'warning')\r\n            });\r\n    }\r\n\r\n    const setLoading = () => dispatch({type: SET_LOADING})\r\n\r\n    const { token, firstName, lastName, number, email, loading } = state\r\n\r\n    return (\r\n        <AuthContext.Provider value={{\r\n            onLogout,\r\n            autoLogin,\r\n            authLogin,\r\n            authRegister,\r\n            authSuccess,\r\n            autoLogout,\r\n            logout,\r\n            fetchAccount,\r\n            changeAccount,\r\n            changePassword,\r\n            token, firstName, lastName, number, email, loading\r\n        }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nAuthState.propTypes = {\r\n    children: PropTypes.element\r\n}\r\n\r\n","import React, { useEffect } from 'react'\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport { Routes } from './Routes'\r\nimport { Header } from './components/Navigation/Header'\r\nimport { Alert } from './components/Alert'\r\nimport { AlertState } from './context/alert/AlertState'\r\nimport { ItemsState } from './context/items/ItemsState'\r\nimport { BasketState } from './context/basket/BasketState';\r\nimport { AuthState } from './context/auth/AuthState'\r\n\r\nimport axios from 'axios'\r\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\r\naxios.defaults.xsrfCookieName = 'csrftoken'\r\naxios.defaults.withCredentials = true\r\n\r\nexport function App() {\r\n    useEffect(() => {\r\n        let vh = window.innerHeight * 0.01;\r\n        document.documentElement.style.setProperty('--vh', `${vh}px`)\r\n    }, [])\r\n\r\n    return (\r\n        <AlertState>\r\n            <AuthState>\r\n                <ItemsState>\r\n                    <BasketState>\r\n                        <BrowserRouter>\r\n                            <div className=\"App\">\r\n                                <Header />\r\n                                <Alert />\r\n                                <div className=\"Routes\">\r\n                                    <Routes />\r\n                                </div>\r\n                            </div>\r\n                        </BrowserRouter>\r\n                    </BasketState>\r\n                </ItemsState>\r\n            </AuthState>\r\n        </AlertState>\r\n    )\r\n}\r\n","import './styles/index.sass';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}